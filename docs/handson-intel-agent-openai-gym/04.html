<html><head/><body>
<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Exploring the Gym and its Features</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="23MNU0-22c7fc7f93b64d07be225c00ead6ce12" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">探索健身房及其特点</h1>
                
            
            
                
<p class="calibre2">现在您已经有了一个工作设置，我们将开始探索Gym toolkit提供的各种功能和选项。本章将带您了解一些常用的环境、它们解决的任务，以及您的代理如何掌握一项任务。</p>
<p class="calibre2">在本章中，我们将探讨以下主题:</p>
<ul class="calibre10">
<li class="calibre11">探索各种类型的健身房环境</li>
<li class="calibre11">理解强化学习循环的结构</li>
<li class="calibre11">理解不同的观察和行动空间</li>
</ul>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Exploring the list of environments and nomenclature</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="24L8G0-22c7fc7f93b64d07be225c00ead6ce12" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">浏览环境和术语列表</h1>
                
            
            
                
<p class="calibre2">先挑个环境，了解健身房界面。您可能已经熟悉了前几章中创建体育馆环境的基本函数调用，在这些章节中，我们使用它们来测试我们的安装。在这里，我们将正式通过它们。</p>
<p class="calibre2">让我们激活<kbd class="calibre12">rl_gym_book</kbd> conda环境，打开一个Python提示符。第一步是使用以下代码行导入Gym Python模块:</p>
<pre class="calibre17"><strong class="calibre1">import gym</strong></pre>
<p class="calibre2">我们现在可以使用<kbd class="calibre12">gym.make</kbd>方法从可用的环境列表中创建一个环境。您可能会问如何在您的系统中找到可用的健身房环境列表。我们将创建一个小的实用程序脚本来生成环境列表，以便您以后需要时可以引用它。让我们在<kbd class="calibre12">~/rl_gym_book/ch4</kbd>目录下创建一个名为<kbd class="calibre12">list_gym_envs.py</kbd>的脚本，内容如下:</p>
<pre class="calibre17">#!/usr/bin/env python<br class="title-page-name"/>from gym import envs<br class="title-page-name"/>env_names = [spec.id for spec in envs.registry.all()]<br class="title-page-name"/>for name in sorted(env_names):<br class="title-page-name"/> print(name)</pre>
<p class="calibre2">这个脚本将打印您的健身房安装中所有可用环境的名称，按字母顺序排序。您可以使用以下命令运行此脚本，以查看您的系统中已安装和可用的环境的名称:</p>
<pre class="calibre17"><strong class="calibre1">(rl_gym_book) praveen@ubntu:~/rl_gym_book/ch4$python list_gym_envs.py</strong></pre>
<p class="calibre2">您将得到这样的输出。请注意，其中只显示了前几个环境名称。根据我们在<a href="part0056.html#1LCVG0-22c7fc7f93b64d07be225c00ead6ce12" class="calibre9">第3章</a>、<em class="calibre13">open ai Gym和深度强化学习入门</em>中讨论的内容，它们可能会有所不同，具体取决于您系统上安装的环境:</p>
<div><img src="img/00111.jpeg" class="calibre52"/></div>
<p class="calibre2">从环境名称列表中，您可能会注意到有一些相似的名称，只是有些不同。例如，外星环境有八种不同的变化。在我们选择一个术语并开始使用它之前，让我们试着去理解它。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Nomenclature</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="25JP20-22c7fc7f93b64d07be225c00ead6ce12" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">术语</h1>
                
            
            
                
<p class="calibre2">在环境名称中出现单词<em class="calibre13"> ram </em>意味着环境返回的观察结果是游戏设计运行的Atari控制台的<strong class="calibre4">随机存取存储器</strong> ( <strong class="calibre4"> RAM </strong>)的内容。</p>
<p class="calibre2">环境名称中出现单词<em class="calibre13">确定性</em>意味着代理发送给环境的动作在四帧的<em class="calibre13">确定性/固定</em>持续时间内重复执行，然后返回结果状态。</p>
<p class="calibre2">单词<em class="calibre13"> NoFrameskip </em>的出现意味着代理发送到环境的动作被执行一次，并且结果状态被立即返回，中间没有跳过任何帧。</p>
<p class="calibre2">默认情况下，如果<em class="calibre13">确定性</em>和<em class="calibre13">无帧跳过</em>没有包含在环境名称中，那么发送到环境的动作会重复执行<em class="calibre13"> n </em>帧的持续时间，其中<em class="calibre13"> n </em>是从{2，3，4}中均匀采样的。</p>
<p class="calibre2">环境名称中的字母<em class="calibre13"> v </em>后跟一个数字代表环境的版本。这是为了确保对环境实现的任何改变都反映在其名称中，以便环境中的算法/代理所获得的结果与另一个算法/代理所获得的结果是可比较的，没有任何差异。</p>
<p class="calibre2">让我们通过查看Atari外星环境来理解这个术语。列出了各种可用选项，并有如下描述:</p>
<table border="1" class="calibre41">
<tbody class="calibre36">
<tr class="calibre37">
<td class="calibre48"><strong class="calibre1">版本名称</strong></td>
<td class="calibre48"><strong class="calibre1">描述</strong></td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">Alien-ram-v0</kbd></td>
<td class="calibre48">观察的是Atari机器的RAM内容，总大小为128字节，发送到环境的动作在<em class="calibre25"> n </em>帧的持续时间内重复执行，其中<em class="calibre25"> n </em>从{2，3，4}均匀采样。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">Alien-ram-v4</kbd></td>
<td class="calibre48">观察的是Atari机器的RAM内容，总大小为128字节，发送到环境中的动作在<em class="calibre25"> n </em>帧的持续时间内重复执行，其中<em class="calibre25"> n </em>是从{2，3，4}中均匀采样的。与v0相比，环境有所改变。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">Alien-ramDeterministic-v0</kbd></td>
<td class="calibre48">观察的是Atari机器的RAM内容，总大小为128字节，发送到环境的动作在四帧的持续时间内重复执行。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">Alien-ramDeterministic-v4</kbd></td>
<td class="calibre48">观察的是Atari机器的RAM内容，总大小为128字节，发送到环境的动作在四帧的持续时间内重复执行。与v0相比，环境有所改变。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">Alien-ramNoFrameskip-v0</kbd></td>
<td class="calibre48">观察的是Atari机器的RAM内容，总大小为128字节，应用发送到环境的动作，结果状态立即返回，不跳过任何帧。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">Alien-v0</kbd></td>
<td class="calibre48">观察是表示为形状(210，160，3)的阵列的屏幕的RGB图像，并且发送到环境的动作被重复执行<em class="calibre25"> n </em>帧的持续时间，其中<em class="calibre25"> n </em>是从{2，3，4}均匀采样的。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">Alien-v4</kbd></td>
<td class="calibre48">观察是表示为形状(210，160，3)的阵列的屏幕的RGB图像，并且发送到环境的动作在<em class="calibre25"> n </em>帧的持续时间内重复执行，其中<em class="calibre25"> n </em>是从{2，3，4}均匀采样的。与v0相比，环境有所改变。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">AlienDeterministic-v0</kbd></td>
<td class="calibre48">观察是屏幕的RGB图像，表示为形状(210，160，3)的阵列，并且发送到环境的动作在四帧的持续时间内重复执行。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">AlienDeterministic-v4</kbd></td>
<td class="calibre48">观察是屏幕的RGB图像，表示为形状(210，160，3)的阵列，并且发送到环境的动作在四帧的持续时间内重复执行。与v0相比，环境有所改变。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">AlienNoFrameskip-v0</kbd></td>
<td class="calibre48">观察是屏幕的RGB图像，表示为形状(210，160，3)的数组，并且应用发送到环境的动作，并且立即返回结果状态，而不跳过任何帧。</td>
</tr>
<tr class="calibre37">
<td class="calibre48"><kbd class="calibre12">AlienNoFrameskip-v4</kbd></td>
<td class="calibre48">观察是屏幕的RGB图像，表示为形状(210，160，3)的数组，并且应用发送到环境的动作，并且立即返回结果状态，而不跳过任何帧。任何框架。与v0相比，环境有所改变。</td>
</tr>
</tbody>
</table>
<p class="calibre2"> </p>
<p class="calibre2">这个总结应该有助于您理解环境的术语，它通常适用于所有环境。RAM可能是特定于Atari环境的，但是当您看到几个相关的环境名称时，您现在已经知道会发生什么了。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Exploring the Gym environments</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="26I9K0-22c7fc7f93b64d07be225c00ead6ce12" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">探索健身房环境</h1>
                
            
            
                
<p class="calibre2">为了让我们更容易想象一个环境是什么样子，或者它的任务是什么，我们将使用一个简单的脚本，它可以启动任何环境，并通过一些随机采样的操作逐步完成它。你可以在<kbd class="calibre12">ch4</kbd>下从本书的代码库中下载脚本，或者在<kbd class="calibre12">~/rl_gym_book/ch4</kbd>下创建一个名为<kbd class="calibre12">run_gym_env.py</kbd>的文件，内容如下:</p>
<pre class="calibre17">#!/usr/bin/env python<br class="title-page-name"/><br class="title-page-name"/>import gym<br class="title-page-name"/>import sys<br class="title-page-name"/><br class="title-page-name"/>def run_gym_env(argv):<br class="title-page-name"/>    env = gym.make(argv[1]) # Name of the environment supplied as 1st argument<br class="title-page-name"/>    env.reset()<br class="title-page-name"/>    for _ in range(int(argv[2])):<br class="title-page-name"/>        env.render()<br class="title-page-name"/>        env.step(env.action_space.sample())<br class="title-page-name"/>    env.close()<br class="title-page-name"/>    <br class="title-page-name"/>if __name__ == "__main__":<br class="title-page-name"/>    run_gym_env(sys.argv)</pre>
<p class="calibre2">该脚本将环境的名称作为第一个命令行参数，并接受要运行的步骤数。例如，我们可以这样运行脚本:</p>
<pre class="calibre17"><strong class="calibre1">(rl_gym_book) praveen@ubntu:~/rl_gym_book/ch4$python run_gym_env.py Alien-ram-v0 2000</strong></pre>
<p class="calibre2">该命令将启动<kbd class="calibre12">Alien-ram-v0</kbd>环境，并使用从环境的动作空间采样的随机动作遍历2000次。</p>
<p class="calibre2">您将看到弹出一个带有<kbd class="calibre12">Alien-ram-v0</kbd>环境的窗口，如下所示:</p>
<div><img src="img/00112.jpeg" class="calibre53"/></div>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Understanding the Gym interface</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="27GQ60-22c7fc7f93b64d07be225c00ead6ce12" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">了解健身房界面</h1>
                
            
            
                
<p class="calibre2">让我们通过理解健身房环境和我们将要开发的代理之间的接口来继续我们的健身房探索。为了帮助我们理解这一点，让我们再来看看我们在<a href="part0033.html#VF2I0-22c7fc7f93b64d07be225c00ead6ce12" class="calibre9">第2章</a>、<em class="calibre13">强化学习和深度强化学习</em>中看到的图片，当时我们正在讨论强化学习的基础知识:</p>
<div><img src="img/00113.jpeg" class="calibre54"/></div>
<p class="calibre2">这张图片是否让您了解了代理与环境之间的界面？我们将通过查看接口的描述来确保您的理解。</p>
<p class="calibre2">在我们<kbd class="calibre12">import gym</kbd>之后，我们<kbd class="calibre12">make</kbd>使用下面的代码行创建一个环境:</p>
<pre class="calibre17"><strong class="calibre1"> env = gym.make("ENVIRONMENT_NAME") </strong></pre>
<p class="calibre2">这里，<kbd class="calibre12">ENVIRONMENT_NAME</kbd>是我们需要的环境的名称，从我们发现安装在我们系统上的环境列表中选择。从前面的图中，我们可以看到第一个箭头从环境到代理，并被命名为观察。从<a href="part0033.html#VF2I0-22c7fc7f93b64d07be225c00ead6ce12" class="calibre9">第二章</a>、<em class="calibre13">强化学习和深度强化学习</em>中，我们了解了部分可观测环境和完全可观测环境的区别，以及每种情况下状态和观测的区别。我们通过调用<kbd class="calibre12">env.reset()</kbd>从环境中获得第一个观察结果。让我们使用下面一行代码将观察结果存储在一个名为<kbd class="calibre12">obs</kbd>的变量中:</p>
<pre class="calibre17"><strong class="calibre1">obs = env.reset()</strong></pre>
<p class="calibre2">现在，代理已经收到了观察结果(第一个箭头的末端)。代理应该采取行动，并将行动发送到环境中，看看会发生什么。本质上，这就是我们为代理开发的算法应该解决的问题！我们将在下一章和后续章节中开发各种先进的算法来开发代理。让我们继续了解健身房界面的旅程。</p>
<p class="calibre2">一旦决定了要采取的行动，我们使用<kbd class="calibre12">env.step()</kbd>方法将它发送到环境(图中的第二个箭头)，该方法将按顺序返回四个值:<kbd class="calibre12">next_state</kbd>、<kbd class="calibre12">reward</kbd>、<kbd class="calibre12">done</kbd>和<kbd class="calibre12">info</kbd>:</p>
<ol class="calibre14">
<li value="1" class="calibre11"><kbd class="calibre12">next_state</kbd>是在前一状态中采取行动后环境的结果状态。</li>
</ol>
<p>在返回<kbd class="calibre28">next_state</kbd>之前，一些环境可能会使用相同的动作在内部运行一个或多个步骤。我们在上一节讨论了<em class="calibre46">确定性</em>和<em class="calibre46">无帧跳过</em>类型，它们是这种环境的例子。</p>
<ol start="2" class="calibre14">
<li value="2" class="calibre11">环境返回<kbd class="calibre12">reward</kbd>(图中第三个箭头)。</li>
<li value="3" class="calibre11"><kbd class="calibre12">done</kbd>变量是一个布尔值(真或假)，如果剧集已经终止/结束(因此，是时候重置环境了)，则该变量的值为真，否则为假。这对于代理知道一个情节何时结束或者环境何时将被重置到某个初始状态是有用的。</li>
</ol>
<ol start="4" class="calibre14">
<li value="4" class="calibre11">返回的<kbd class="calibre12">info</kbd>变量是可选变量，某些环境可能会返回一些附加信息。通常，代理不使用它来决定采取什么操作。</li>
</ol>
<p class="calibre2">下面是健身房环境的<kbd class="calibre12">step()</kbd>方法返回的四个值的汇总，以及它们的类型和简要描述:</p>
<table border="1" class="calibre41">
<tbody class="calibre36">
<tr class="calibre37">
<td class="calibre55"><strong class="calibre1">返回值</strong></td>
<td class="calibre56"><strong class="calibre1">类型</strong></td>
<td class="calibre57"><strong class="calibre1">描述</strong></td>
</tr>
<tr class="calibre37">
<td class="calibre55"><kbd class="calibre12">next_state</kbd>(或观察)</td>
<td class="calibre56"><kbd class="calibre12">Object</kbd></td>
<td class="calibre57">环境反馈的观察。该对象可以是来自屏幕/摄像机的RGB像素数据、RAM内容、机器人的连接角度和连接速度等等，这取决于环境。</td>
</tr>
<tr class="calibre37">
<td class="calibre55"><kbd class="calibre12">reward</kbd></td>
<td class="calibre56"><kbd class="calibre12">Float</kbd></td>
<td class="calibre57">对之前发送到环境中的操作的奖励。<kbd class="calibre12">Float</kbd>值的范围因环境而异，但不管环境如何，高回报总是更好，代理的目标应该是最大化总回报。</td>
</tr>
<tr class="calibre37">
<td class="calibre55"><kbd class="calibre12">done</kbd></td>
<td class="calibre56"><kbd class="calibre12">Boolean</kbd></td>
<td class="calibre57">指示在下一步中是否要重置环境。当布尔值为真时，很可能意味着该剧集已经结束(由于代理人死亡、超时或某些其他剧集终止标准)。</td>
</tr>
<tr class="calibre37">
<td class="calibre55"><kbd class="calibre12">info</kbd></td>
<td class="calibre56"><kbd class="calibre12">Dict</kbd></td>
<td class="calibre57">一些附加信息，可以由环境作为任意键-值对的字典选择性地发送出去。我们开发的代理不应该依赖字典中的任何信息来采取行动。它可用于(如果可用)调试目的。</td>
</tr>
</tbody>
</table>
<p class="calibre2">请注意，下面的代码是为了显示一般的结构而提供的，由于<kbd class="calibre28">ENVIRONMENT_NAME</kbd>和<kbd class="calibre28">agent.choose_action()</kbd>没有在这个代码片段中定义，所以还不能执行。<br class="calibre42"/></p>
<p>让我们把所有的碎片放在一起，在一个地方看:</p>
<p class="calibre2">我希望你很好地理解了环境和代理之间的相互作用的一个周期。这个过程将会重复，直到我们决定在经过一定数量的事件或步骤后终止循环。现在让我们看一个完整的例子，在<kbd class="calibre12">Qbert-v0</kbd>环境中，内循环为<kbd class="calibre12">MAX_STEPS_PER_EPISODE</kbd>运行，外循环为<kbd class="calibre12">MAX_NUM_EPISODES</kbd>运行:</p>
<pre class="calibre17">import gym<br class="title-page-name"/>env = gym.make("ENVIRONMENT_NAME")<br class="title-page-name"/>obs = env.reset() # The first arrow in the picture<br class="title-page-name"/># Inner loop (roll out)<br class="title-page-name"/>action = agent.choose_action(obs) # The second arrow in the picture<br class="title-page-name"/>next_state, reward, done, info = env.step(action) # The third arrow (and more)<br class="title-page-name"/>obs = next_state<br class="title-page-name"/># Repeat Inner loop (roll out)</pre>
<p class="calibre2">当您运行这个脚本时，您会注意到一个Qbert屏幕弹出，Qbert采取随机行动并得到一个分数，如下所示:</p>
<pre class="calibre17">#!/usr/bin/env python<br class="title-page-name"/>import gym<br class="title-page-name"/>env = gym.make("Qbert-v0")<br class="title-page-name"/>MAX_NUM_EPISODES = 10<br class="title-page-name"/>MAX_STEPS_PER_EPISODE = 500<br class="title-page-name"/>for episode in range(MAX_NUM_EPISODES):<br class="title-page-name"/>    obs = env.reset()<br class="title-page-name"/>    for step in range(MAX_STEPS_PER_EPISODE):<br class="title-page-name"/>        env.render()<br class="title-page-name"/>        action = env.action_space.sample()# Sample random action. This will be replaced by our agent's action when we start developing the agent algorithms<br class="title-page-name"/>        next_state, reward, done, info = env.step(action) # Send the action to the environment and receive the next_state, reward and whether done or not<br class="title-page-name"/>        obs = next_state<br class="title-page-name"/><br class="title-page-name"/>        if done is True:<br class="title-page-name"/>            print("\n Episode #{} ended in {} steps.".format(episode, step+1))<br class="title-page-name"/>            break</pre>
<p class="calibre2">根据剧集结束的时间，您还会在控制台上看到如下打印语句。请注意，您获得的步骤编号可能会有所不同，因为操作是随机的:</p>
<div><img src="img/00114.jpeg" class="calibre58"/></div>
<p class="calibre2">样板代码可以在本书的代码库中的<kbd class="calibre12">ch4</kbd>文件夹下找到，命名为<kbd class="calibre12">rl_gym_boilerplate_code.py</kbd>。这确实是样板代码，因为程序的整体结构将保持不变。当我们在后续章节中构建智能代理时，我们将扩展这个样板代码。值得花些时间一行一行地浏览脚本，以确保您很好地理解了它。</p>
<div><img src="img/00115.jpeg" class="calibre59"/></div>
<p class="calibre2">您可能已经注意到，在本章和<a href="part0056.html#1LCVG0-22c7fc7f93b64d07be225c00ead6ce12" class="calibre9">第3章</a>、<em class="calibre13">open ai Gym和深度强化学习</em>中提供的示例代码片段中，我们使用了<kbd class="calibre12">env.action_space.sample()</kbd>来代替前面代码中的<kbd class="calibre12">action</kbd>。<kbd class="calibre12">env.action_space</kbd>返回动作空间的类型(例如，<kbd class="calibre12">Discrete(18)</kbd>，在Alien-v0的情况下)，<kbd class="calibre12">sample()</kbd>方法从那个<kbd class="calibre12">action_space</kbd>中随机抽取一个值。就这意思！</p>
<p class="calibre2">我们现在将仔细观察体育馆中的空间，以了解环境的状态空间和动作空间。</p>
<p class="calibre2">健身房的空间</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Spaces in the Gym</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="28FAO0-22c7fc7f93b64d07be225c00ead6ce12" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">我们可以看到健身房的每个环境都不一样。雅达利类别下的每个游戏环境也与其他不同。例如，在<kbd class="calibre12">VideoPinball-v0</kbd>环境的情况下，目标是用两个球拍不断弹跳一个球，以根据球击中的位置收集分数，并确保球永远不会落到球拍下方，而在另一个雅达利游戏环境<kbd class="calibre12">Alien-v0</kbd> <em class="calibre13"> <strong class="calibre4">、</strong> </em>的情况下，目标是通过迷宫(船上的房间)收集<em class="calibre13">点</em>，这相当于摧毁外星人的蛋。收集一个脉冲星点可以杀死外星人，当这种情况发生时，奖励/分数会增加。你看到游戏/环境的变化了吗？我们如何知道什么类型的行为在游戏中是有效的？</h1>
                
            
            
                
<p class="calibre2">在视频弹球环境中，动作自然是向上或向下移动球拍，而在陌生环境中，动作是命令玩家向左、向右、向上或向下移动。请注意，在VideoPinball中没有“向左移动”或“向右移动”动作。当我们看其他类别的环境时，差异甚至更大。例如，在连续控制环境的情况下，例如最近发布的具有取物机器人臂的机器人环境，动作是改变连续值的连接位置和连接速度以完成任务。对于来自环境的观测值也可以进行同样的讨论。我们已经看到了Atari的不同观察对象类型(RAM与RGB图像)。</p>
<p class="calibre2">In the VideoPinball environment, naturally, the actions are to move the paddles up or down, whereas in the Alien environment, the actions are to command the player to move left, right, up, or down. Note that there is no "move left" or "move right" action in the case of VideoPinball. When we look at other categories of environment, the variations are even greater. For example, in the case of continuous control environments such as recently release robotics environments with the fetch robot arms, the action is to vary the continuous valued join positions and joint velocities to achieve the task. The same discussion can be had with respect to the values of the observations from the environment. We already saw the different observation object types in the case of Atari (RAM versus RGB images).</p>
<p class="calibre2">这就是为什么为每个环境定义观察和行动的<em class="calibre13">空间</em>(如在数学中)的动机。在写这本书的时候，OpenAI Gym支持6个空间(加上另外一个叫做<kbd class="calibre12">prng</kbd>的随机种子)。下表列出了它们，并对它们进行了简要描述:</p>
<p class="calibre2"><strong class="calibre1">空间类型</strong></p>
<table border="1" class="calibre41">
<tbody class="calibre36">
<tr class="calibre37">
<td class="calibre48"><strong class="calibre1">描述</strong></td>
<td class="calibre48"><strong class="calibre1">使用示例</strong></td>
<td class="calibre48"><kbd class="calibre12">Box</kbd></td>
</tr>
<tr class="calibre37">
<td class="calibre48">在<img class="fm-editor-equation69" src="img/00116.jpeg"/>空间中的一个框(一个<em class="calibre25"> n </em>维框)，其中每个坐标被限制在由【低，高】定义的区间内。值将是一个由n个数字组成的数组。该形状定义了空间的<em class="calibre25"> n </em>。</td>
<td class="calibre48"><kbd class="calibre12">gym.spaces.Box(low=-100, high=100, shape=(2,))</kbd></td>
<td class="calibre48"><kbd class="calibre12">Discrete</kbd></td>
</tr>
<tr class="calibre37">
<td class="calibre48">区间[0，n-1]中的离散整数值空间。<kbd class="calibre12">Discrete()</kbd>的自变量定义了<em class="calibre25"> n. </em></td>
<td class="calibre48"><kbd class="calibre12">gym.spaces.Discrete(4)</kbd></td>
<td class="calibre48"><kbd class="calibre12">Dict</kbd></td>
</tr>
<tr class="calibre37">
<td class="calibre48">一个样本空间的字典来创建任意复杂的空间。在本例中，创建了一个Dict空间，它由三维位置和速度的两个离散空间组成。</td>
<td class="calibre48"><kbd class="calibre12">gym.spaces.Dict({"position": gym.spaces.Discrete(3), "velocity": gym.spaces.Discrete(3)})</kbd></td>
<td class="calibre48"><kbd class="calibre12">MultiBinary</kbd></td>
</tr>
<tr class="calibre37">
<td class="calibre48"><em class="calibre25"> n </em>维二元空间。<kbd class="calibre12">MultiBinary()</kbd>的自变量定义了<em class="calibre25"> n. </em></td>
<td class="calibre48"><kbd class="calibre12">gym.spaces.MultiBinary(5)</kbd></td>
<td class="calibre48"><kbd class="calibre12">MultiDiscrete</kbd></td>
</tr>
<tr class="calibre37">
<td class="calibre48">多维离散空间。</td>
<td class="calibre48"><kbd class="calibre12">gym.spaces.MultiDiscrete([-10,10], [0,1])</kbd></td>
<td class="calibre48"><kbd class="calibre12">Tuple</kbd></td>
</tr>
<tr class="calibre37">
<td class="calibre48">简单空间的产物。</td>
<td class="calibre48"><kbd class="calibre12">gym.spaces.Tuple((gym.spaces.Discrete(2), spaces.Discrete(2)))</kbd></td>
<td class="calibre48"><kbd class="calibre12">gym.spaces.Tuple((gym.spaces.Discrete(2), spaces.Discrete(2)))</kbd></td>
</tr>
</tbody>
</table>
<p class="calibre2"/>
<p class="calibre2"><kbd class="calibre12">Box</kbd>和<kbd class="calibre12">Discrete</kbd>是最常用的动作空间。我们现在对健身房中的各种空间类型有了基本的了解。让我们看看如何找到一个环境使用哪些观察和行动空间。</p>
<p class="calibre2">下面的脚本将打印给定环境的观察和动作空间，并且还可以选择打印<kbd class="calibre12">Box Space</kbd>情况下的值的下限和上限。此外，它还将打印环境中可能操作的描述/含义(如果环境提供了该描述/含义):</p>
<p class="calibre2">The following script will print the observation and the action space of a given environment, and also optionally print the lower bound and upper bound of the values in the case of a <kbd class="calibre12">Box Space</kbd>. Additionally, it will also print a description/meaning of the possible action in the environment if it is provided by the environment:</p>
<p class="calibre2">这个脚本也可以在本书的代码库中下载，在<kbd class="calibre12">ch4</kbd>下，名为<kbd class="calibre12">get_observation_action_space.py</kbd>。您可以使用以下命令运行脚本，其中我们提供环境的名称作为脚本的第一个参数:</p>
<pre class="calibre17">#!/usr/bin/env python<br class="title-page-name"/>import gym<br class="title-page-name"/>from gym.spaces import *<br class="title-page-name"/>import sys<br class="title-page-name"/><br class="title-page-name"/>def print_spaces(space):<br class="title-page-name"/>    print(space)<br class="title-page-name"/>    if isinstance(space, Box): # Print lower and upper bound if it's a Box space<br class="title-page-name"/>        print("\n space.low: ", space.low)<br class="title-page-name"/>        print("\n space.high: ", space.high)<br class="title-page-name"/><br class="title-page-name"/>    <br class="title-page-name"/>if __name__ == "__main__":<br class="title-page-name"/>    env = gym.make(sys.argv[1])<br class="title-page-name"/>    print("Observation Space:")<br class="title-page-name"/>    print_spaces(env.observation_space)<br class="title-page-name"/>    print("Action Space:")<br class="title-page-name"/>    print_spaces(env.action_space)<br class="title-page-name"/>    try:<br class="title-page-name"/>        print("Action description/meaning:",env.unwrapped.get_action_meanings())<br class="title-page-name"/>    except AttributeError:<br class="title-page-name"/>        pass</pre>
<p class="calibre2">该脚本将打印如下输出:</p>
<pre class="calibre17"><strong class="calibre1">(rl_gym_book) praveen@ubuntu:~/rl_gym_book/ch4$ python get_observation_action_space.py CartPole-v0</strong></pre>
<p class="calibre2">在本例中，脚本打印出<kbd class="calibre12">CartPole-v0</kbd>环境的观察空间是<kbd class="calibre12">Box(4,)</kbd> <em class="calibre13">，</em>，分别对应于四个框值顶端的<kbd class="calibre12">cart position</kbd>、<kbd class="calibre12">cart velocity</kbd>、<kbd class="calibre12">pole angle</kbd>和<kbd class="calibre12">pole velocity</kbd>。</p>
<div><img src="img/00117.jpeg" class="calibre60"/></div>
<p class="calibre2">In this example, the script prints that the observation space for the <kbd class="calibre12">CartPole-v0</kbd> environment is <kbd class="calibre12">Box(4,)</kbd><em class="calibre13">, </em>which corresponds to <kbd class="calibre12">cart position</kbd>, <kbd class="calibre12">cart velocity</kbd>, <kbd class="calibre12">pole angle</kbd>, and <kbd class="calibre12">pole velocity</kbd> at the tip for the four box values. </p>
<p class="calibre2">动作空间打印为<kbd class="calibre12">Discrete(2)</kbd>，分别对应离散值<kbd class="calibre12">0</kbd>和<kbd class="calibre12">1</kbd>的<em class="calibre13">向左推小车</em>和<em class="calibre13">向右推小车</em>。</p>
<p class="calibre2">让我们看看另一个例子，它有几个更复杂的空间。这一次，让我们使用<kbd class="calibre12">BipedalWalker-v2</kbd> <em class="calibre13"> </em>环境运行脚本:</p>
<p class="calibre2">会产生这样的输出:</p>
<pre class="calibre17">(rl_gym_book) praveen@ubuntu:~/rl_gym_book/ch4$ <strong class="calibre1">python get_observation_action_space.py BipedalWalker-v2</strong></pre>
<p class="calibre2">两足步行器(v2)环境的状态空间的详细描述在此列表，供您快速方便地参考:</p>
<div><img src="img/00118.jpeg" class="calibre61"/></div>
<p class="calibre2"><strong class="calibre4">索引</strong></p>
<table border="1" class="calibre41">
<tbody class="calibre36">
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2"><strong class="calibre4">名称/描述</strong></p>
</td>
<td class="calibre48">
<p class="calibre2"><strong class="calibre4">最小值</strong></p>
</td>
<td class="calibre48">
<p class="calibre2"><strong class="calibre4">最大</strong></p>
</td>
<td class="calibre48">
<p class="calibre2">0</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">船体_角度</p>
</td>
<td class="calibre48">
<p class="calibre2">0</p>
</td>
<td class="calibre48">
<p class="calibre2">2 *圆周率</p>
</td>
<td class="calibre48">
<p class="calibre2">一</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">赫尔角速率</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">2</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">vel_x</p>
</td>
<td class="calibre48">
<p class="calibre2">-1</p>
</td>
<td class="calibre48">
<p class="calibre2">+1</p>
</td>
<td class="calibre48">
<p class="calibre2">3</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">韦尔_y</p>
</td>
<td class="calibre48">
<p class="calibre2">-1</p>
</td>
<td class="calibre48">
<p class="calibre2">+1</p>
</td>
<td class="calibre48">
<p class="calibre2">四</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">髋关节_ 1 _角度</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">5</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">髋关节_ 1 _速度</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">6</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">膝关节1度角</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">七</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">膝关节1速度</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">8</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">leg _ 1 _接地_接触_标志</p>
</td>
<td class="calibre48">
<p class="calibre2">0</p>
</td>
<td class="calibre48">
<p class="calibre2">一</p>
</td>
<td class="calibre48">
<p class="calibre2">9</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">髋关节_ 2 _角度</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">10</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">髋关节_ 2 _速度</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">11</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">膝关节_ 2 _角度</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">12</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">膝关节_ 2 _速度</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">13</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">leg _ 2 _接地_接触_标志</p>
</td>
<td class="calibre48">
<p class="calibre2">0</p>
</td>
<td class="calibre48">
<p class="calibre2">一</p>
</td>
<td class="calibre48">
<p class="calibre2">14-23</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">10次激光雷达读数</p>
</td>
<td class="calibre48">
<p class="calibre2">-inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
<td class="calibre48">
<p class="calibre2">+inf</p>
</td>
</tr>
</tbody>
</table>
<p class="calibre2">如你所见，状态空间相当复杂，这对于一个复杂的两足行走机器人来说是合理的。它或多或少类似于我们在现实世界中可以找到的实际双足机器人系统和传感器配置，例如波士顿动力公司(Boston Dynamics)(Alphabet的一部分)的Atlas双足机器人，它在2015年的DARPA机器人挑战赛中抢尽了风头。</p>
<p class="calibre2">接下来，我们将研究并理解动作空间。两足步行器(v2)环境的动作空间的详细描述在此列表，供您快速、轻松地参考:</p>
<p class="calibre2">索引</p>
<table border="1" class="calibre41">
<tbody class="calibre36">
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">名称/描述</p>
</td>
<td class="calibre48">
<p class="calibre2">福建话</p>
</td>
<td class="calibre48">
<p class="calibre2">最大</p>
</td>
<td class="calibre48">
<p class="calibre2">0</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">Hip_1(扭矩/速度)</p>
</td>
<td class="calibre48">
<p class="calibre2">-1</p>
</td>
<td class="calibre48">
<p class="calibre2">+1</p>
</td>
<td class="calibre48">
<p class="calibre2">一</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">Knee_1(扭矩/速度)</p>
</td>
<td class="calibre48">
<p class="calibre2">-1</p>
</td>
<td class="calibre48">
<p class="calibre2">+1</p>
</td>
<td class="calibre48">
<p class="calibre2">2</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">Hip_2(扭矩/速度)</p>
</td>
<td class="calibre48">
<p class="calibre2">-1</p>
</td>
<td class="calibre48">
<p class="calibre2">+1</p>
</td>
<td class="calibre48">
<p class="calibre2">3</p>
</td>
</tr>
<tr class="calibre37">
<td class="calibre48">
<p class="calibre2">膝盖_2(扭矩/速度)</p>
</td>
<td class="calibre48">
<p class="calibre2">-1</p>
</td>
<td class="calibre48">
<p class="calibre2">+1</p>
</td>
<td class="calibre48">
<p class="calibre2">行动</p>
</td>
</tr>
</tbody>
</table>
<p>扭矩控制是默认的控制方法，它控制关节处应用的扭矩量。</p>
<p class="calibre2">摘要</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Summary</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="29DRA0-22c7fc7f93b64d07be225c00ead6ce12" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">在这一章中，我们探索了您的系统中可用的健身房环境列表，您在上一章中安装了这些环境，然后了解了这些环境的命名约定或术语。然后，我们重新回顾了代理-环境交互(RL循环)图，并了解了健身房环境如何提供与我们在图像中看到的每个箭头相对应的界面。然后，我们查看了健身房环境的<kbd class="calibre12">step()</kbd>方法返回的四个值的汇总，以表格形式，易于理解，以<em class="calibre13">加强</em>您对它们的理解！</h1>
                
            
            
                
<p class="calibre2">我们还详细探索了体育馆中用于观察和行动空间的各种类型的空间，我们使用脚本打印出环境使用的空间，以更好地理解体育馆环境界面。在我们的下一章中，我们将巩固我们到目前为止所学的知识来开发我们的第一个人工智能代理！激动吗？！现在就翻到下一章吧！</p>
<p class="calibre2">We also explored in detail the various types of spaces used in the Gym for the observation and action spaces, and we used a script to print out what spaces are used by an environment to understand the Gym environment interfaces better. In our next chapter, we will consolidate all our learning so far to develop our first artificially intelligent agent! Excited?! Flip the page to the next chapter now!</p>


            

            
        
    </body></html>
</body></html>